<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>Zhang Design</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">zhang</span> <span class="project-version">0.1.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="10-00-background.html"><div class="inner"><span>Background</span></div></a></li><li class="depth-1 "><a href="10-01-process-calculus.html"><div class="inner"><span> • Process Calculi</span></div></a></li><li class="depth-1 "><a href="10-02-erlang-process-model.html"><div class="inner"><span> • The Erlang Process Model</span></div></a></li><li class="depth-1 "><a href="10-10-jinterface-concepts.html"><div class="inner"><span> • JInterface Conceptual Components</span></div></a></li><li class="depth-1 "><a href="10-11-motivation-clojure-async.html"><div class="inner"><span> • Motivation for Clojure-native async operations</span></div></a></li><li class="depth-1 "><a href="10-12-motivation-jvm-net.html"><div class="inner"><span> • Motivation for JVM-based network IO</span></div></a></li><li class="depth-1 "><a href="10-13-virtualized-compute.html"><div class="inner"><span> • A World Virtualized Computation</span></div></a></li><li class="depth-1 "><a href="10-20-molecular-inspiration.html"><div class="inner"><span> • Inspiration via Molecular Interactions</span></div></a></li><li class="depth-1 "><a href="10-30-topological-inspiration.html"><div class="inner"><span> • Inspiration via Network Theory</span></div></a></li><li class="depth-1  current"><a href="20-00-zhang-design.html"><div class="inner"><span>Zhang Design</span></div></a></li><li class="depth-1 "><a href="30-00-zhang-docs.html"><div class="inner"><span>Documentation</span></div></a></li><li class="depth-1 "><a href="30-10-zhang-getting-started.html"><div class="inner"><span> • Getting Started</span></div></a></li><li class="depth-1 "><a href="30-20-zhang-tutorial.html"><div class="inner"><span> • A Zhang Tutorial</span></div></a></li><li class="depth-1 "><a href="30-30-zhang-applications.html"><div class="inner"><span> • Building Applications with Zhang</span></div></a></li><li class="depth-1 "><a href="30-40-zhang-distributed.html"><div class="inner"><span> • Distributed Zhang</span></div></a></li><li class="depth-1 "><a href="98-resources.html"><div class="inner"><span>Resources</span></div></a></li><li class="depth-1 "><a href="99-other-versions.html"><div class="inner"><span>Zhang API Versions</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 "><a href="zhang.core.html"><div class="inner"><span>zhang.core</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#zhang-design" name="zhang-design"></a>Zhang Design</h1>
<h2><a href="#development-plan" name="development-plan"></a>Development Plan</h2>
<p>During the initial stage of development, focus will be on best idiomatic use of Clojure and <code>core.async</code> programming to provide the desired features, without considering the implementation details of the Erlang distribution model.</p>
<ul>
  <li>Create a partial system using only <code>core.async</code></li>
  <li>System will entail a single JVM</li>
  <li>Will support numerous in-JVM nodes</li>
  <li>Add support for multi-JVM instances</li>
  <li>IPC/UNIX domain sockets?</li>
  <li>Add support for multi-host JVM instances</li>
  <li>What protocol?</li>
</ul>
<p>With a solid Clojure foundation in place, support will be added for the Erlang process and distribution model.</p>
<ul>
  <li>Integrate with <code>epmd</code></li>
  <li>Add support for the Erlang distribution protocol (wire-level)</li>
  <li>Add support for OTP nodes</li>
  <li>Add support for OTP message boxes</li>
</ul>
<h2><a href="#clojure-implementation-tiers" name="clojure-implementation-tiers"></a>Clojure Implementation Tiers</h2>
<h3><a href="#host-level-coordination" name="host-level-coordination"></a>Host-level Coordination</h3>
<ul>
  <li>Is there sometihng comparable to <code>epmd</code> in the JVM ecosystem?</li>
</ul>
<h3><a href="#a-single-jvm" name="a-single-jvm"></a>A Single JVM</h3>
<ul>
  <li>Create Zhang JVM agent</li>
  <li>Initial development: blue sky, no Erlangisms
    <ul>
      <li>New architecture taking advantage of the JVM/Clojure
        <ul>
          <li>Envision and develop a system without Erlang idiosyncracies</li>
          <li>Reference original design goals of Erlang</li>
          <li>Use net(ty) and core.async</li>
          <li>Take maximal advantage of core.async features/abilities</li>
        </ul>
      </li>
      <li>Implement whole system in pure-Clojure
        <ul>
          <li>Process table</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>Atomic hash-map used as store for data</p>
    <ul>
      <li>process list</li>
      <li>next available pid</li>
    </ul>
  </li>
  <li>Message-passing to/from agent (via core.async)</li>
  <li>
  <p>Spawned Functions</p></li>
  <li>Process List per JVM</li>
  <li>Node list per host</li>
</ul>
<h3><a href="#inter-jvms-same-host" name="inter-jvms-same-host"></a>Inter-JVMs, Same Host</h3>
<ul>
  <li>IPC?</li>
  <li>???</li>
</ul>
<h3><a href="#inter-host-jvm" name="inter-host-jvm"></a>Inter-host JVM</h3>
<ul>
  <li><code>net</code>/<code>netty</code></li>
  <li>???</li>
</ul>
<h2><a href="#erlang-implementation-tiers" name="erlang-implementation-tiers"></a>Erlang Implementation Tiers</h2>
<h3><a href="#integration" name="integration"></a><code>empd</code> Integration</h3>
<ul>
  <li>Much of this already exists</li>
  <li>Supporting functions</li>
  <li>Use <code>clojang.epmd</code></li>
  <li>Add <code>erl</code>-like feature that starts <code>epmd</code> if it’s not running</li>
</ul>
<h3><a href="#distribution-protocol" name="distribution-protocol"></a>Distribution Protocol</h3>
<ul>
  <li>Write a <code>net</code>/<code>netty</code> pipeline</li>
  <li>Implement <code>net</code> encoder &amp; decoder</li>
  <li>???</li>
  <li>???</li>
</ul>
<h3><a href="#otp-nodes" name="otp-nodes"></a>OTP Nodes</h3>
<p>TBD</p>
<h3><a href="#otp-message-boxes" name="otp-message-boxes"></a>OTP Message Boxes</h3>
<p>TBD</p></div></div></div></body></html>